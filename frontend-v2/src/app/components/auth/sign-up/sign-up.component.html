<div class="flex-r container">
  <div class="flex-r login-wrapper">
    <div class="login-text">
      <p class="login-heading">Đăng ký</p>
      <p class="login-welcome">
        Chào mừng bạn, chúc bạn có trải nghiệm mua sắm tốt với cửa hàng!
      </p>

      <form class="flex-c" [formGroup]="signUpForm" (ngSubmit)="onSubmit()">
        <div class="input-box">
          <span class="label">Tài khoản</span>
          <div class="flex-r input">
            <input
              type="text"
              placeholder="Nhập tài khoản..."
              formControlName="username"
            />
            <i class="fa-regular fa-user"></i>
          </div>
          @if(signUpForm.get('username')?.invalid &&
          signUpForm.get('username')?.touched) {
          <div>
            <small class="error">Tài khoản là bắt buộc.</small>
          </div>
          }
        </div>

        <div class="input-box">
          <span class="label">Email</span>
          <div class="flex-r input">
            <input
              type="text"
              placeholder="Nhập địa chỉ email..."
              formControlName="email"
            />
            <i class="fas fa-at"></i>
          </div>
          @if(signUpForm.get('email')?.invalid &&
          signUpForm.get('email')?.touched) {}
          <div>
            @if(signUpForm.get('email')?.errors?.['required']) {
            <small class="error">Email là bắt buộc.</small>
            } @else if(signUpForm.get('email')?.errors?.['email']) {
            <small class="error">Email không hợp lệ.</small>
            }
            <small class="error"> Email không hợp lệ.</small>
          </div>
        </div>

        <div class="input-box">
          <span class="label">Mật khẩu</span>
          <div class="flex-r input">
            <input
              [type]="showPassword ? 'text' : 'password'"
              placeholder="Nhập mật khẩu..."
              formControlName="password"
            />
            <i
              class="fas"
              [class.showPassword]="showPassword ? 'fa-eye-slash' : 'fa-eye'"
              (click)="togglePasswordVisibility()"
              style="cursor: pointer; margin-left: 8px"
            ></i>
          </div>
          @if(signUpForm.get('password')?.invalid &&
          signUpForm.get('password')?.touched) {
          <div>
            <small class="error"
              >Mật khẩu là bắt buộc và phải có ít nhất 8 ký tự.</small
            >
          </div>
          }
        </div>

        <div class="input-box">
          <span class="label">Nhập lại mật khẩu</span>
          <div class="flex-r input">
            <input
              [type]="showConfirmPassword ? 'text' : 'password'"
              placeholder="Nhập lại mật khẩu..."
              formControlName="confirmPassword"
            />
            <i
              class="fas"
              [class.showConfirmPassword]="
                showConfirmPassword ? 'fa-eye-slash' : 'fa-eye'
              "
              (click)="toggleConfirmPasswordVisibility()"
              style="cursor: pointer; margin-left: 8px"
            ></i>
          </div>
          @if(signUpForm.errors?.['notSame'] &&
          signUpForm.get('confirmPassword')?.touched) {
          <div>
            <small class="error">Mật khẩu không khớp.</small>
          </div>
          }
        </div>

        <div class="check">
          <input type="checkbox" formControlName="terms" />
          <span>Tôi đồng ý với các điều khoản</span>
          @if(signUpForm.get('terms')?.invalid &&
          signUpForm.get('terms')?.touched) {
          <div>
            <small class="error">Bạn chưa đồng ý với các điều khoản.</small>
          </div>
          }
        </div>

        <input
          class="btn"
          type="submit"
          value="Đăng ký"
          [disabled]="signUpForm.invalid"
        />
        <span class="extra-line">
          <span>Bạn đã có tài khoản?</span>
          <a [routerLink]="['/auth/login']">Đăng nhập tại đây</a>
        </span>
      </form>
    </div>
  </div>
</div>
